geo-omics-scripts (1.168-1) buster; urgency=medium

  * [qc] fix --rqcfilterdata option parsing, option wasn't recognized

 -- Robert <heinro@umich.edu>  Wed, 06 May 2020 14:19:47 -0400

geo-omics-scripts (1.167-1) buster; urgency=medium

  * omics.shared: Fix label processing when using many threads
  * shared-get: add sample renaming option

 -- Robert <heinro@umich.edu>  Thu, 30 Apr 2020 09:33:52 -0400

geo-omics-scripts (1.166-1) buster; urgency=medium

  * shared-get: be very smart when samples names differ between meta and shared files
  * shared.get: improve diagnostic output

 -- Robert <heinro@umich.edu>  Wed, 01 Apr 2020 14:54:52 -0400

geo-omics-scripts (1.165-1) buster; urgency=medium

  * Add two more scripts
  * Add OTU-renumbering script for shared files
  * shared-set-accessions: fix minor code formatting
  * shared-set-accession: fix output file name, keep all infixes
  * shared2fasta: allow multiple --map options for transitve renaming

 -- Robert <heinro@umich.edu>  Tue, 31 Mar 2020 10:22:46 -0400

geo-omics-scripts (1.164-1) buster; urgency=medium

  * comics: switch to the "new" way to enter the container by default
  * comics: Allow write access to normal reference data path
  * omics.shared: add mothur group file support
  * comics: keep SLURM environment variable
  * omics.shared: minor delint
  * omics.shared: Generalize import code to allow additional file formats
  * omics.shared: Add uncompressed mothur count_table support
  * omics.shared: add implementation for compressed count_table support
  * shared-unique-prevalence: fix output file name generation
  * Add shared2fasta script

 -- Robert <heinro@umich.edu>  Thu, 19 Mar 2020 12:09:52 -0400

geo-omics-scripts (1.163-1) buster; urgency=medium

  * Makefile:  Add release/ prefix to release version tags
  * omics.shared: Prefix info messages with program name
  * omics.shared: Add to and pass --thread option from MothurShared call sites
  * sh-uniq-prev: Always save new shared file, save csv via new --tab-out option
  * d/gbp.conf: new upstream version tag format

 -- Robert <heinro@umich.edu>  Wed, 04 Mar 2020 10:03:32 -0500

geo-omics-scripts (1.162-1) buster; urgency=medium

  * shared-jaccard: abort loop early for common case
  * shared-jaccard: be less verbose
  * shared-filter-abundance: add filter size to output file name
  * shared-get: Add option to filter by sample size
  * plot-shared: Remove --min-sample-size option
  * plot-shared: print minimum count only when differing from default
  * plot-shared: Use 'ASV' for 'ESV' as the more common acronym
  * omics.shared: Refactor to allow adding alpternative import implementations
  * omics.shared: Allow passing filename to constructor
  * omiccs.shared: Add multiprocessing import implementation
  * omics.shared: allow testing data import via command line

 -- Robert <heinro@umich.edu>  Fri, 28 Feb 2020 16:03:11 -0500

geo-omics-scripts (1.161-1) buster; urgency=medium

  * shared-get: fix crash when --output option is used
  * shared-jaccard: require the -m option, running script without has little value
  * shared-jaccard: run Jaccard on set of all samples if map file provieds no groupings for our samples

 -- Robert <heinro@umich.edu>  Sun, 16 Feb 2020 22:19:34 -0500

geo-omics-scripts (1.160-1) buster; urgency=medium

  * omics.shared: make printing info to stderr optional via kwarg in constructor
  * omics.shared: expose underlying pandas objects for more attributes
  * omics.shared: remove, by default, all-zero OTUs after removing samples
  * Add two more scripts for manipulating shared files
  * Add missing copyright and license info to three scripts

 -- Robert <heinro@umich.edu>  Fri, 14 Feb 2020 21:08:03 -0500

geo-omics-scripts (1.159-1) buster; urgency=medium

  * omics.shared: add flag to make rows() cols() return an iterator
  * omics.shared: make get_row() require sample name as argument (no indicies)
  * omics.shared: API change: separate methods to pick/remove samples/OTUs
  * plot-shared: fix generated output file name
  * shared-unique-prev: improve speed hopefully
  * shared-jaccard: add script to compute jaccard indicies over shared file

 -- Robert <heinro@umich.edu>  Thu, 13 Feb 2020 15:07:58 -0500

geo-omics-scripts (1.158-1) buster; urgency=medium

  * omics.shared: keep track of label
  * omics.shared: add pick(), remove(), and save() methods
  * omics.shared: use pandas+numpy to store the count array
  * Add shared-unique-prevalence script
  * plot-shared: Use the MothurShared class from omics.shared

 -- Robert <heinro@umich.edu>  Thu, 06 Feb 2020 12:18:58 -0500

geo-omics-scripts (1.157-1) buster; urgency=medium

  * omics.shared: print info notes to stderr not stdout
  * omics.shared: add method to return single row from shared file
  * Makefile: fix regression, some scripts were not installed
  * Makefile: install help2man man pages
  * Makefile: fix, remove extra script in target list
  * Makefile: fix replacing version placeholder

 -- Robert <heinro@umich.edu>  Mon, 03 Feb 2020 14:41:13 -0500

geo-omics-scripts (1.156-1) buster; urgency=medium

  * plot-shared-otu-counts: add logic to plot sample-size outliers on margin
  * plotCoverage: fix script name spelling in help text
  * comics: allow specifying container with -i without suffix
  * comics:  Add option to support starting a shell in the container via the runscript
  * comics: fix: recognize --keep-env-modules option
  * comics: add --keep-prompt option to skip manipulating PS1 with the new way of staring the shell
  * comics:  rewrite -i option help to reflect current behaviour
  * comics: do not mistake file/dir in $(pwd) as default image if name matches
  * comics: keep track of $PWD into the container
  * dada2shared: make sample ids mothur-compatible (s/-/_/g)
  * plot-shared-otu-counts: add IQR
  * plot-shared: reduce empty space on right side of scatter plot
  * plot-shared: add option to limit scatter plot range
  * Add omics.shared module
  * script/Makefile: man target: generate man pages with help2man for supporting scripts
  * plot-shared-otu-counts: add -version option and make man page with help2man
  * aview: add missing __doc__ text
  * Add --version option to various python scripts
  * chop-contigs: fix spelling in __doc_ string
  * scripts/Makefile: add man pages for some python scripts
  * scripts/Makefile: make man pages for three more scripts
  * Fix distdir target in scripts/

 -- Robert <heinro@umich.edu>  Fri, 31 Jan 2020 00:00:33 -0500

geo-omics-scripts (1.155-1) buster; urgency=medium

  * rgi-setup: Fix error handling
  * rgi-setup: print CARD db version for info and debugging
  * rgi-setup: decompress files wildcard data directory
  * rgi-setup: remove downloaded file
  * Add aview - text-based multiple alignment viewer
  * aview: add simple debugging to stderr after curses screen closes
  * aview: remove old debugging code
  * aview: separate out move code into its own method
  * aview: add jumping to position with 'g' command
  * aview: add color to base variants based on abundance rank
  * aview: allow debug message to be written to a file
  * fragRec: fix help, don't show help in pager but print straight to stdout
  * fragRec: mark mandatory arguments as such in synopsis
  * fragRec: fix misleading error messages
  * comics: add --list option to print list or available images
  * aview: identify and mark unique sequences
  * aview: fix last sequence in file not loading
  * aview: remove debugging code
  * gff2fasta: improve cmd line options and verbosity and error handling
  * gff2fasta: improve resulting fasta headers
  * gff2fasta: fix gff file parsing, remove newline from attrs field
  * Add new blast fragment recruting plot script
  * Add 5 more scripts

 -- Robert <heinro@umich.edu>  Fri, 17 Jan 2020 14:55:15 -0500

geo-omics-scripts (1.154-1) buster; urgency=medium

  * Add rgi setup and coverage compilation tools
  * d/control: add latexmk build-dep, needed to make PDFs

 -- Robert <heinro@umich.edu>  Fri, 19 Jul 2019 14:25:24 -0400

geo-omics-scripts (1.153-1) buster; urgency=medium

  * [chop-contigs] Fix crash for small chunk sizes
  * Increase robustness and flexibility
  * merge-coverage: improve speed: binary IO + operator functions for lambdas

 -- Robert <heinro@umich.edu>  Thu, 11 Jul 2019 16:15:06 -0400

geo-omics-scripts (1.152-1) unstable; urgency=medium

  * more flexible metabat to anvio conversion script
  * [mapping] Add --skip-coverage option

 -- Robert <heinro@umich.edu>  Mon, 10 Jun 2019 16:50:39 -0400

geo-omics-scripts (1.151-1) unstable; urgency=medium

  * [prep] Add option to keep gzipped data compressed
  * [qc] Accept gzipped input
  * [qc] Remove obsolete info message and replace obsolete and misleading comment
  * [qc] Fix regression: suffix stripping, also allow .fq suffices
  * [qc] Accept zstd-compressed input
  * [qc] Compress output if input is compressed
  * [mapping] Respect symlink name of symlinked assemblies
  * [qc] Add paragraph to help
  * [mapping] Allow mapping of zstd compressed reads files

 -- Robert <heinro@umich.edu>  Wed, 29 May 2019 11:03:49 -0400

geo-omics-scripts (1.150-2) unstable; urgency=medium

  * d/copyright: updated and improved
  * d/rules: do not install extra license (lintian complaint)
  * Use the bash-completion helper for correct install location (FIXME!)

 -- Robert <heinro@umich.edu>  Wed, 15 May 2019 16:19:14 -0400

geo-omics-scripts (1.150-1) unstable; urgency=medium

  * Adding Derek's binning-to-anvio parser scripts

 -- Robert <heinro@umich.edu>  Wed, 15 May 2019 13:42:38 -0400

geo-omics-scripts (1.149-1) unstable; urgency=medium

  * [asm] Fix bbnorm argument list
  * [doc] Update omics tools page with text from the 'overdue update' commit READMEs
  * Add GPL3 license text, rm/mv secondary license notices
  * Add uniform copyright/license notices to almost all files
  * Remove LICENSE and DISCLAIMER sections from manpages
  * Add years of previous release to many scripts' copyright notice
  * Remove obsolete maintenance script
  * Remove obsolete file.
  * README updated
  * README: lab url updated, emails removed, formatting changes
  * Use major.minor versioning, drop patch level
  * Update list of files to install
  * Leave version file unchanged at end of doing release
  * [doc] Add short description for qc-check
  * debian/*: Remove trivial readme file

 -- Robert <heinro@umich.edu>  Tue, 14 May 2019 11:00:24 -0400

geo-omics-scripts (1.0.148-1) unstable; urgency=medium

  * [qc] Use more explicit option name for input to rqcfilter2
  * [qc] Improve options help
  * [qc] Use split-files processing for sickle
  * [qc] Remove obsolete commend
  * [qc] Do not produce interleaved files
  * [qc] Parallelize post-QC fastqc and data saving
  * [asm] Re-design of input handling code
  * [asm] Do not enter sample directory if input is only a single sample
  * [asm] Print phylosift command line with some explanation
  * [asm] Improve layout of help text, group options by their categories
  * [asm] Fix passing normalized data to idba
  * [asm] Allow passing file lists to --[dir]-reads options
  * [asm] Change default bbnorm target to 25
  * [asm] Append extra arguments to bbnorm and megahit calls via environment variables

 -- Robert <heinro@umich.edu>  Mon, 06 May 2019 13:21:52 -0400

geo-omics-scripts (1.0.147-1) unstable; urgency=medium

  * [qc] Clean up empty FASTQC directories
  * [qc] Add memory detection for Flux/PBS jobs when using -F bbtools
  * [comics] For PBS jobs, pass the amount of requested memory to container environment
  * [qc] Pass memory amount option to rqcfilter2 in PBS environment
  * [asm] Reduce memory usage for bbnorm (trade for a bit of speed)
  * [asm] Make bbnorm pick up memory allotment from (PBS) environment if possible
  * [comics] Fix: make requested memory compatible for java -Xmx option

 -- Robert <heinro@umich.edu>  Mon, 29 Apr 2019 11:54:32 -0400

geo-omics-scripts (1.0.146-1) unstable; urgency=medium

  * [comics] Fix regression, had exec twice with --writable
  * [qc] Improve robustness of clean up code
  * [qc] Replace old waiting for bg job code with simpler more robust code

 -- Robert <heinro@umich.edu>  Thu, 25 Apr 2019 16:55:01 -0400

geo-omics-scripts (1.0.145-1) unstable; urgency=medium

  * [liba.sh] Improve consistency in messages
  * [liba.sh] Enable colors only when both stdout and stderr are on a terminal

 -- Robert <heinro@umich.edu>  Thu, 25 Apr 2019 14:10:21 -0400

geo-omics-scripts (1.0.144-1) unstable; urgency=medium

  * [comics] Do not add binds for geomicrobio servers
  * [liba.sh] Fix option parsing, quoted strings should be protected now

 -- Robert <heinro@umich.edu>  Thu, 25 Apr 2019 13:31:34 -0400

geo-omics-scripts (1.0.143-1) unstable; urgency=medium

  * [qc] Print how much temp storage was used

 -- Robert <heinro@umich.edu>  Wed, 24 Apr 2019 11:16:39 -0400

geo-omics-scripts (1.0.142-1) unstable; urgency=medium

  * [read_counts] Fix writing output files when called as subcommand

 -- Robert <heinro@umich.edu>  Tue, 23 Apr 2019 17:17:19 -0400

geo-omics-scripts (1.0.141-1) unstable; urgency=medium

  * [prep] Add --skip-existing option
  * [prep] Move read count code into its own subcommand

 -- Robert <heinro@umich.edu>  Tue, 23 Apr 2019 17:16:59 -0400

geo-omics-scripts (1.0.140-1) unstable; urgency=medium

  * [mapping] Allow passing extra args to bowtie2 by setting OMICS_BOWTIE2_ARGS

 -- Robert <heinro@umich.edu>  Thu, 18 Apr 2019 14:38:08 -0400

geo-omics-scripts (1.0.139-1) unstable; urgency=medium

  * [qc] rm ref data file after use
  * [prep]  Add option to count reads after processing
  * [prep]  Improve error message when line count is inconsistent
  * [prep] Write read-count file
  * [prep] Fix --force option, actually trucate and overwrite existing file
  * [prep] Plot read counts per sample and save as PDF
  * [qc] Allow passing custom adapter files to derek-bbduk filter via -a option

 -- Robert <heinro@umich.edu>  Wed, 17 Apr 2019 12:42:58 -0400

geo-omics-scripts (1.0.138-1) unstable; urgency=medium

  * [omics] Set traceback mode via OMICS_DEBUG env variable
  * [qc] Also clean derek-bbduk related intermediate files

 -- Robert <heinro@umich.edu>  Fri, 12 Apr 2019 10:22:39 -0400

geo-omics-scripts (1.0.137-1) unstable; urgency=medium

  * [comics] Speed up building new images from sandbox
  * [qc] Simplify data flow, remove piping
  * [qc] Improve bash script safety setting -uE and pipefail
  * [qc] Raise error on invalid --filter argument
  * [qc] Fix adding empty read pair halves
  * [qc] Fix post-qc fastqc not terminating
  * [qc] Refactor final file generation
  * [liba.sh] Fix bad option handling, actually raise the error
  * [qc] Refactoring of clean up and --keep-all work
  * [qc] Check available space for temporary data
  * [qc] Fix bbduk workflow, ensure correct filename/directories
  * [qc] skip checking filter arguments in wrapper, qc-sample script will handle this
  * [qc] Advertise derek-bbduk filter option

 -- Robert <heinro@umich.edu>  Thu, 11 Apr 2019 16:39:10 -0400

geo-omics-scripts (1.0.136-1) unstable; urgency=medium

  * [omics] Tweak order of options, demote --cpus as --threads is more standard
  * [omics] Print version to stdout instead of stderr
  * [qc] Also allow --final option in wrapper
  * [prep] Handle failure to create a default project in the omics launcher
  * [prep] Add --dest option

 -- Robert <heinro@umich.edu>  Mon, 08 Apr 2019 14:59:02 -0400

geo-omics-scripts (1.0.135-1) unstable; urgency=medium

  * [comics] Use exec to invoke shell not the singularity shell command
  * [comics] Add --norc and --rcfile options with defaults
  * [comics] Stop requiring -- before command to ensure correct option parsing
  * [comics] Fix passing --verbose/--quiet to singularity and support multiple -v
  * [comics] Replace comics process when invoking container
  * [prep] Improve message to user about bad filenames
  * [omics] Add general --version option
  * [prep] Tolerate missing S number parts in filenames
  * [Makefile] Hard-code version when building

 -- Robert <heinro@umich.edu>  Fri, 05 Apr 2019 12:09:14 -0400

geo-omics-scripts (1.0.134-1) unstable; urgency=medium

  * [omics] Be more tolerant of OS errors trying to find the project file
  * [derep] Improve speed
  * [qc] Add Derek's bbduk script as experimental filter option

 -- Robert <heinro@umich.edu>  Wed, 03 Apr 2019 15:19:49 -0400

geo-omics-scripts (1.0.133-1) unstable; urgency=medium

  * [qc] Add missing --fwd, --rev options to qc wrapper script

 -- Robert <heinro@umich.edu>  Wed, 03 Apr 2019 11:26:18 -0400

geo-omics-scripts (1.0.132-1) unstable; urgency=medium

  * [qc] Fix dereplication with bbtools filter

 -- Robert <heinro@umich.edu>  Wed, 03 Apr 2019 10:56:52 -0400

geo-omics-scripts (1.0.131-1) unstable; urgency=medium

  * [prep] Add multi-run mode

 -- Robert <heinro@umich.edu>  Tue, 02 Apr 2019 13:32:40 -0400

geo-omics-scripts (1.0.130-1) unstable; urgency=medium

  * [asm] Fix bbnorm log file writing

 -- Robert <heinro@umich.edu>  Fri, 29 Mar 2019 15:28:18 -0400

geo-omics-scripts (1.0.129-1) unstable; urgency=medium

  * [geomicro env module] Track module file version 2
  * [asm] Add normalization step with BBNorm
  * [omics] replace omics launcher process by external script
  * [liba.sh] Rewrite error handling to always allow help with -h
  * [asm] Use interleaved fastq as default input data
  * [asm] Update call conventions for (meta)quast
  * [asm] Fix using the cwd for input data
  * [asm] Fix checking existence of input files
  * [asm] Warn when submitting compressed files to BBNorm
  * [asm]  Enable compressed input files for megahit
  * [asm] Enable compressed input for idba_ud
  * [asm]  Print error if creating symlink to assembly fails
  * [asm] Disable conserved gene finding option for quast

 -- Robert <heinro@umich.edu>  Wed, 27 Mar 2019 16:57:26 -0400

geo-omics-scripts (1.0.128-1) unstable; urgency=medium

  * [comics] Fix unbound variable error
  * [comics] Pass DISPLAY variable to container
  * [comics] Split-up Makefile install rules
  * [comics]  Add rule to directly install comics to flux
  * [comics] Fix broken local installation for sudoer
  * [omics] Avoid triggering nfs+automount when searching for .omics directory
  * [asm] Make help text more precise
  * [asm] Add given job name to per-spec output directory name

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Wed, 27 Feb 2019 14:40:28 -0500

geo-omics-scripts (1.0.126-1) unstable; urgency=medium

  * [comics] Preserve PBS_ variables on FLUX

 -- Robert <heinro@umich.edu>  Fri, 25 Jan 2019 16:11:38 -0500

geo-omics-scripts (1.0.125-1) unstable; urgency=medium

  * [docs]  Smallish update to pipline manual
  * Set CPUS from available cores on PBS jobs is needed and available
  * Harmonize -t, --threads, --cpus options across pipeline scripts

 -- Robert <heinro@umich.edu>  Thu, 24 Jan 2019 15:47:40 -0500

geo-omics-scripts (1.0.124-1) unstable; urgency=medium

  * [asm] Enable 16S blast search by default
  * [qc] various fixes
  * [qc] Add --filter option to set Trimmomatic vs Scythe vs BBtools modes
  * [qc] Fix passing the original fastq files when using --no-dereplicate
  * [qc] Fix --no-dereplicate with Trimmomatic, passing correct files around
  * [qc] Implement optional BBTools/rqcfilter2 QC pipeline
  * [comics] Rely on flux host configuration to bind /scratch and /nfs
  * [qc] Only process one sample at a time

 -- Robert <heinro@umich.edu>  Thu, 17 Jan 2019 11:06:50 -0500

geo-omics-scripts (1.0.121-1) unstable; urgency=medium

  * Fixes various regressions caused by adding the auto-completion

 -- Robert <heinro@umich.edu>  Thu, 20 Dec 2018 14:35:36 -0500

geo-omics-scripts (1.0.120-1) unstable; urgency=medium

  * Fix installing bash completion
  * Improved auto completion

 -- Robert <heinro@umich.edu>  Mon, 17 Dec 2018 17:00:17 -0500

geo-omics-scripts (1.0.119-1) unstable; urgency=medium

  * First set of database additions, calling django management via "omics db"
    implemented
  * [omics] Enable calling omics.* submodules via omics cmd line
  * [omics] Tolerate unavailability of lscpu
  * [omics] only call omics.* modules if they have a main(argv) defined
  * [omics] Call init and prep directly as python modules
  * [omics] Allow skipping generation of --help option
  * [omics] Also report submodules with main() function as omics commands
  * [omics] Add initial bash completion support

 -- Robert <heinro@umich.edu>  Wed, 12 Dec 2018 09:58:10 -0500

geo-omics-scripts (1.0.118-1) unstable; urgency=medium

  * [comics] pass verbosity to singlarity, use exec to run commands
  * [binning] Add compatibility with concoct >=0.5.0
  * [binning] Fix use of --coverage-file option

 -- Robert <heinro@umich.edu>  Wed, 28 Nov 2018 15:47:53 -0500

geo-omics-scripts (1.0.117-1) unstable; urgency=medium

  * [extractSubSeq] Fix up help/POD formatting/layout/spelling
  * Let phylosift use bundled last-align binaries

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Fri, 09 Nov 2018 15:51:11 -0500

geo-omics-scripts (1.0.116-1) unstable; urgency=medium

  * Add bin statistics module
  * [mapping] Add option to map against unpaired read files
  * [binning] Add omics.bin_coverage module

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Tue, 30 Oct 2018 22:59:43 -0400

geo-omics-scripts (1.0.115-1) unstable; urgency=medium

  * [comics] Mount ref data at fixed location
  * [downsample] Support single, non-paired file mode

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Fri, 19 Oct 2018 00:23:12 -0400

geo-omics-scripts (1.0.114-1) unstable; urgency=medium

  * [bins2fasta] Complete rewrite, new policy, works for CONCOCT and MetaBAT alike
  * [binning] Fix crash when processing only a single sample
  * [binning/bins2fasta] Allow more general sequence headers when reading in (chopped) contigs
  * [binning] Enable non-chopped bin compilation
  * [binning] Check for and document that sample dirs must be given on cmdline
  * [binning] Print progress to CONCOCT log file (every 5 minutes at most)
  * [binning] Add option to set iterations for CONCOCT
  * [binning] Fix output directory/file name for MetaBAT
  * [binning] Fix crash (syntax/misspelled variable)
  * [binning] Fix passing -v argument
  * [mapping] Fix the combination of options --chop and --index-only
  * [mapping] Implement multi-sample processing
  * [mapping] Include sample id in progress messages
  * [mapping] Allow saving results based on different assemblies in same output directory
  * [asm] Skip blast and phylosift sections due to general brokeness

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Tue, 18 Sep 2018 17:04:33 -0400

geo-omics-scripts (1.0.113-1) unstable; urgency=medium

  * [mapping] Fix re-using bowtie index made from large assemblies
  * Add new upchop tools module
  * [asm] Make MEGAHIT the default assembler
  * [qc] Make Trimmomatic the default, allow old way with -S option
  * [qc] Update docs, remove help for obsolete options

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Mon, 10 Sep 2018 10:56:30 -0400

geo-omics-scripts (1.0.112-1) unstable; urgency=medium

  * [qc] Add debug output
  * [docs] Pipeline manual updated
  * [comics] Fix use of -w option with sudo/PWD/permission interaction
  * [dedup] Deduplicate only within the same flowcell/lane

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Wed, 22 Aug 2018 16:24:46 -0400

geo-omics-scripts (1.0.111-1) unstable; urgency=medium

  * [mapping] Expose and pass --chunk-size option to chop-contigs script
  * [qc] Provide default adapter file for QC with Trimmomatic
  * [asm] Speed-up input data reading into IDBA_UD

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Fri, 22 Jun 2018 11:36:23 -0400

geo-omics-scripts (1.0.110-1) unstable; urgency=medium

  * [qc] Add sample name to more error/warning messages
  * [binning] Drop assumption that sample directories are immediate subdirectories
  * [doc] Add preface and links to external info sections to pipline manual
  * [doc] Small tweaks to pipeline manual

 -- Robert <heinro@med.umich.edu>  Thu, 14 Jun 2018 10:48:53 -0400

geo-omics-scripts (1.0.109-1) unstable; urgency=medium

  * [comics] Reduce number of permission warning when upgrading an image
  * Makefile: Fix install-comics-local goal when run as sudo+nfs
  * Makefile: Print more info for install-comics-local target
  * Makefile: Print version candidates in debug target
  * Add plot_alignment script
  * comics: Be more verbose about container building
  * upload: Add option to only upload to google drive
  * [qc] Implement optional trimming with Trimmomatic
  * [omics] Fix arg parsing of the --threads option

 -- Robert <heinro@cayman.earth.lsa.umich.edu>  Wed, 06 Jun 2018 16:00:26 -0400

geo-omics-scripts (1.0.108-1) unstable; urgency=medium

  * [comics] Add image deployment function via --update
  * [plot-megahit-log] Bugfixes
  * [binning] Fix option help, correct file name
  * [gff2fasta] Fix typesetting in help text
  * [asm] Increase robustness of cmd line parsing
  * [asm] Fix naming of concatenating reads file
  * [asm] Avoid cryptic error when QUAST is unavailable
  * [asm] Fix concatenated reads file name
  * [binning] Increase robustness of option parsing
  * [binning] Fix final, unchopped bin directory name

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Wed, 18 Apr 2018 09:48:51 -0400

geo-omics-scripts (1.0.107-1) unstable; urgency=medium

  * add interleave script
  * speed up work for qc
  * some other small fixes 
  * Drop patch keeping interleave out of the release

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Thu, 12 Apr 2018 11:09:49 -0400

geo-omics-scripts (1.0.106-1) unstable; urgency=medium

  * [comics] Add --write option
  * Add omics.fastq2fastq module
  * [qc] Switch sickle to paired-end processing
  * [qc] Fix --clean mode: removed original fastq sometimes
  * [qc] Fix interleaved output file name
  * [qc] Fix --clean mode: remove correct files
  * [qc] Fix: only wait for background process if it is running

 -- Robert <heinro@med.umich.edu>  Wed, 04 Apr 2018 16:37:48 -0400

geo-omics-scripts (1.0.105-1) xenial; urgency=medium

  * [binning] Use assembly name for bin directory names
  * [docs] Various updates to pipeline doc

 -- Robert <heinro@vondamm.earth.lsa.umich.edu>  Tue, 03 Apr 2018 15:43:16 -0400

geo-omics-scripts (1.0.104-1) xenial; urgency=medium

  * [mapping] Fix bowtie2 logging
  * [mapping] Improve infos printed to user
  * [mapping] Drop questionable -m option to samtools sort

 -- Robert <heinro@med.umich.edu>  Tue, 03 Apr 2018 11:22:57 -0400

geo-omics-scripts (1.0.103-1) xenial; urgency=medium

  * [comics] Improved handling of -i option

 -- Robert <heinro@med.umich.edu>  Tue, 03 Apr 2018 09:56:30 -0400

geo-omics-scripts (1.0.102-1) unstable; urgency=medium

  * d/control: add sphinx-related build dependency
  * [comics] Fix check if container is a directory/sandbox

 -- Robert <heinro@med.umich.edu>  Mon, 02 Apr 2018 17:09:58 -0400

geo-omics-scripts (1.0.101-1) unstable; urgency=medium

  * Add plot-megahit-log script
  * [comics] Add new standard path for local images
  * [mapping,binning] Replace underscore by dots in some output filenames
  * [mapping] Reduce disk usage and increase speed

 -- Robert <heinro@med.umich.edu>  Mon, 02 Apr 2018 17:03:14 -0400

geo-omics-scripts (1.0.100-1) unstable; urgency=medium

  * [test] Revert "fix", it was fixed already
  * [liba.sh] Allow setting alternative script names
  * [test] Make test script output better recognizable
  * [test] measure time of test runs
  * [liba.sh] Fix usage parameter handling for abort function
  * [Makefile] Add local installation target for comics script
  * [comics] Improve container image search function
  * [comics] Keep stdout clean

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 22 Mar 2018 15:42:03 -0400

geo-omics-scripts (1.0.99-1) unstable; urgency=medium

  * [assemble] Skip avail progs check, these programs are not technically necessary
  * [assemble] Fix megahit command line construction

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 20 Mar 2018 10:13:42 -0400

geo-omics-scripts (1.0.98-1) unstable; urgency=medium

  * [test] Fix file names
  * [doc] Fix file name to new default
  * [assemble] Skip catenating reads for megahit, not needed
  * [assemble] Fix inserting the .cat. infix for concatenated reads file
  * [assemble] Make assembly name user-definable via option
  * [test] Run tests quicker by default
  * [test] Fix input file names for mapping step

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 20 Mar 2018 09:33:11 -0400

geo-omics-scripts (1.0.97-1) unstable; urgency=medium

  * [test] Fix option parsing
  * [mapping] Fix regression, use new infix schema for default file names

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 13 Mar 2018 15:43:19 -0400

geo-omics-scripts (1.0.96-1) unstable; urgency=medium

  * [assemble] Fix regression, adjust default input file name
  * [test] Do not test phylosift for now

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 13 Mar 2018 15:11:34 -0400

geo-omics-scripts (1.0.95-1) unstable; urgency=medium

  * [liba.sh] Fix in case script has no further options
  * Add test script
  * [interleave] Insert infix instead of prefix for output filename
  * [qc] Use infix convention to name intermediate files

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 13 Mar 2018 15:11:20 -0400

geo-omics-scripts (1.0.94-1) unstable; urgency=medium

  * [derep] Add option to save list of replicated reads
  * Add utils module with small, odd collection of functions
  * [downsample] Implement downsampling of interleaved files
  * [derep] Add sequence hashes to duplicate reads output file
  * [utils] Make more proper (OO) use of matplotlib API

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Mon, 12 Mar 2018 15:38:46 -0400

geo-omics-scripts (1.0.93-1) unstable; urgency=medium

  * [comics] Fix path to container
  * [comics] Fix existence check, check for image file not directory
  * [docs] Document changes how omics container is run
  * [docs] Add discussion on parallel processing in QC
  * [prep] Allow adapter indices to contain dashes

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 07 Mar 2018 15:01:59 -0500

geo-omics-scripts (1.0.92-1) unstable; urgency=medium

  * Fix possible crash when scripts use set -u
  * Add comics script, replaces omics-run and omics-container
  * [help2rst] Allow stdin input, multi-line short description

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 13 Feb 2018 15:17:44 -0500

geo-omics-scripts (1.0.91-2) unstable; urgency=medium

  * Remove broken script, not ready for primetime

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 13 Feb 2018 15:17:23 -0500

geo-omics-scripts (1.0.91-1) unstable; urgency=medium

  * [binning] Ensure CPUS variable is non-empty
  * [binning] Fix check for existing input files
  * [binning] Fix building metabat cmd line
  * [binning] Fix crash when using --force
  * [binning] Add check that some bins were generated before using them
  * [binning] Fix glob
  * [binning] Improve checkm performance and save statistics table
  * [unchop-contigs] Fix existence check for input files
  * [derep] Remove unused cmd line option
  * Add interleave script

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Fri, 09 Feb 2018 11:26:28 -0500

geo-omics-scripts (1.0.90-1) unstable; urgency=medium

  * Introduce checkm result file utilities
  * Add unchop script
  * [unchop-contigs] Add man page
  * [binning] Reverse contig chopping after binning

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 08 Feb 2018 16:41:35 -0500

geo-omics-scripts (1.0.89-1) unstable; urgency=medium

  * [binning] Add option to bin with MetaBAT
  * Add downsample script
  * [binning] Integrate metabat with checkm analysis
  * [binning] Fix spelling in file path
  * [downsample] Actually install the script

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Fri, 02 Feb 2018 16:34:53 -0500

geo-omics-scripts (1.0.88-1) unstable; urgency=medium

  * Fix scripts using set -u crashing when not using colors

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 01 Feb 2018 17:05:02 -0500

geo-omics-scripts (1.0.87-1) unstable; urgency=medium

  * Prevent possible low-impact / useless / misleading error message
  * Teach separate-interleaved to handle FASTA files
  * [upload] Update hostname

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 01 Feb 2018 13:32:24 -0500

geo-omics-scripts (1.0.86-1) unstable; urgency=medium

  * [mapping] Inform users of bowtie2 log file

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 31 Jan 2018 16:45:56 -0500

geo-omics-scripts (1.0.85-1) unstable; urgency=medium

  * [assemble] Fix blast component, paths to DBs were not set correctly

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 31 Jan 2018 16:18:19 -0500

geo-omics-scripts (1.0.84-1) unstable; urgency=medium

  * Minor src format fix
  * [derep] Ensure data is written out before exiting

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 24 Jan 2018 16:09:27 -0500

geo-omics-scripts (1.0.83-1) unstable; urgency=medium

  * [qc] Replace dereplication script

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 24 Jan 2018 09:13:28 -0500

geo-omics-scripts (1.0.82-1) unstable; urgency=medium

  * [binning] Document -o option in help text
  * [prep] Fix crash on input files with irregular filename

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 17 Jan 2018 14:47:10 -0500

geo-omics-scripts (1.0.81-1) unstable; urgency=medium

  * [docs] Remove deprecated section, prep is internally multithreaded now
  * [mapping] Run bowtie2 aligning multithreaded

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 11 Jan 2018 15:26:09 -0500

geo-omics-scripts (1.0.80-1) unstable; urgency=medium

  * [binning] Run CheckM workflow after the binning
  * [docs] Add 'Working on FLUX' section
  * [doc] Work on pipeline docs, layout, headers, fixes

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 11 Jan 2018 14:28:07 -0500

geo-omics-scripts (1.0.79-1) unstable; urgency=medium

  * [assemble] allow specifying reference data path via environment

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Fri, 05 Jan 2018 11:15:43 -0500

geo-omics-scripts (1.0.78-1) unstable; urgency=medium

  * [assemble] Fix spelling
  * [liba.sh] Guard against scripts using set -u
  * [mapping] Improve indexing workflow
  * [mapping] Fixed index re-use and related cmd line interface
  * [docs] Update mapping section of pipeline documentation
  * [binning] Fix argument passing

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 04 Jan 2018 14:55:47 -0500

geo-omics-scripts (1.0.77-1) unstable; urgency=medium

  * [qc-check] Indicate if report is from before or after
  * [qc-check] Add --test to restrict output to those from certain tests
  * [qc-check] Default to show diffs with a FAIL unless --warnings is given
  * [qc-check] Make --diff and --all exclusive and extend help text a bit

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 21 Dec 2017 15:54:21 -0500

geo-omics-scripts (1.0.76-1) unstable; urgency=medium

  * [debian/links] Fix target
  * [qc-check] Add --diff option showing before/after differences
  * [qc-check] Print details when being verbose

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 21 Dec 2017 14:54:28 -0500

geo-omics-scripts (1.0.75-1) unstable; urgency=medium

  * [docs] Remove mathjax extension since no math is actually used anywhere
  * Link to debian's copy of general purpose non-sphinx-specific js libs
  * [debian/control] Fix debhelper dependency
  * [debian/control] Add more dependencies, as recommends for now
  * [mapping] Fix dependency check

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 21 Dec 2017 10:31:39 -0500

geo-omics-scripts (1.0.74-1) unstable; urgency=medium

  * Enable use of sphinx' argparse extension
  * Add qc-check command to replace qc --check
  * [qc] Remove --check option, is superseded by qc-check command
  * Fix line breaking in man page
  * Python 2-to-3 conversion
  * Fix code style / formatting
  * [bins2fasta] Move script under omics package
  * [bins2fasta] Make script a proper module, add entry point under old name
  * [bins2fasta] Generate documentation
  * [bin2fasta] Refactor to make module more reusable, executable
  * [omics init] Generate docs from argparser

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 20 Dec 2017 15:40:24 -0500

geo-omics-scripts (1.0.73-1) unstable; urgency=medium

  * [prep] Fix crash when using --keep-lanes-separated
  * [prep] Remove leading zeros from lane part of sample name
  * [qc] Fix crash when using --check option
  * [qc] make --check report FAIL not just warning

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 19 Dec 2017 15:22:27 -0500

geo-omics-scripts (1.0.72-1) unstable; urgency=medium

  * [omics-container] Fix option parsing
  * [omics-run] reduce interference with existing environment
  * Reimplement separateInterleaved script
  * [qc] Add option to check FASTQC results
  * Increment compat level to 10

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 19 Dec 2017 12:00:22 -0500

geo-omics-scripts (1.0.71-1) unstable; urgency=medium

  [ Robert ]
  * Fix wrong exit status when run with --clean-only option
  * qc-sample: add sample id to output messages
  * [qc] Make current directory the default, check for existing paths
  * [qc] Use constant instead of hard-coded value

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Fri, 15 Dec 2017 11:42:42 -0500

geo-omics-scripts (1.0.70-1) unstable; urgency=medium

  [ Robert ]
  * Use constants for default values
  * Explain purpose of option default in comment
  * Fix bug, make omics-qc pass number of threads option correctly
  * Some smallish work on improving pipeline docs

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 14 Dec 2017 14:49:57 -0500

geo-omics-scripts (1.0.69-1) unstable; urgency=medium

  [ Robert ]
  * Fix filenames of to be cleaned files
  * Fix assembly script when assembling date from a single sample
  * Ensure variable is initialized
  * Add compatibility note
  * Use separate read files as mapping reference by default
  * Ensure all variables are initialized in mapping script
  * Fix some PODs so that at least the NAME section is conform for whatis
  * Remove redundant script, is the same as mapper_getQueryList
  * Fix some POD formatting
  * Fix POD, NAME section to work with whatis
  * Fix POD layout/formatting
  * Fix default option values not showing up in help text
  * Add man pages for init and run commands
  * Actually add those man page source files

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 13 Dec 2017 16:01:37 -0500

geo-omics-scripts (1.0.67-1) unstable; urgency=medium

  [ Robert ]
  * Use bowtie2 for mapping, abandon bwa
  * Improve docs for a couple important scripts
  * Improve formatting of SEE ALSO section
  * Fix misspelled option, crashed when called with --keep-all
  * Remove redundant print statement, use -v instead
  * Give final post-qc reads file a more meaningful, less cryptic name
  * Also generate final good reads separately
  * Fix layout in help text
  * Avoid output file with additional . in name
  * Specify output filenames, the generated ones contain 'int' undesirably
  * Document option variant
  * Add missing files to cleanup job
  * Add defaults for separate input reads, as made by omics-qc now

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 12 Dec 2017 10:12:37 -0500

geo-omics-scripts (1.0.66-1) unstable; urgency=medium

  * Gracefully allow omics-run from within a container
  * Be compatible with quast >=4.5, changed option name
  * Refactor getopt code, simplify control flow, improve maintainability
  * Emit status code 2 for command line usage errors
  * Correctly interpret options of the command as such

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Mon, 11 Dec 2017 12:55:58 -0500

geo-omics-scripts (1.0.65-1) unstable; urgency=medium

  [ Robert ]
  * Add wrapper to run cmd lines in omics container
  * Make the omics-run wrapper work for real
  * Fix spelling in path
  * Remove debugging statement

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Thu, 07 Dec 2017 16:52:15 -0500

geo-omics-scripts (1.0.62-1) unstable; urgency=medium

  [ Robert ]
  * Add SEE ALSO section to many perl scripts' man pages
  * Leave PDFs uncompressed

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Wed, 06 Dec 2017 14:55:03 -0500

geo-omics-scripts (1.0.61-1) unstable; urgency=medium

  [ Robert ]
  * Add script to fix pod in perl scripts
  * Allow man page target to work without version set, for dev/testing
  * Format options nicely, some typesetting for progam name, options and values
  * Fix crash if some section are missing
  * Fix output in case no options are recognized
  * Extend options parser to cover more styles
  * Fix parsing of head lines
  * Keep empty lines within a section
  * Improve option 'type' parsing,
  * Only upper-case standard headers
  * Apply fixpod script to improve PODs of perl scripts
  * Batch of manual corrections of PODs
  * Fix option formating
  * Fix option type formating
  * Make many NAME sections stardard conform
  * Manual fixes for various NAME section
  * Allow pod2man to do its work by removing strange formatting strings
  * Make pods more standard confirm, fix some formatting

 -- Robert <heinro@csheikMP.earth.lsa.umich.edu>  Tue, 05 Dec 2017 16:50:10 -0500

geo-omics-scripts (1.0.60-1) unstable; urgency=medium

  [ Robert ]
  * Add script to enter shell in container
  * Allow docs building if sphinx-build uses python2
  * Check for valid user input, avoid cryptic crash later on
  * Fix coding style, thanks shellcheck
  * Fix regression, pick up tarball from parent directory
  * Remove boilerplate from README
  * Use real email for maintainer address
  * Replace boilerplate and default in debian/control
  * Install python module to Debian-correct path
  * Bump standards version
  * Replace placeholder url
  * Fix patch which erroneously had the changelog modified

 -- Robert <heinro@umich.edu>  Fri, 01 Dec 2017 17:00:59 -0500

geo-omics-scripts (1.0.58-1) unstable; urgency=medium

  * Fix error handling, only raise when status is actually non-zero

 -- Robert <heinro@med.umich.edu>  Fri, 17 Nov 2017 10:03:42 -0500

geo-omics-scripts (1.0.57-1) unstable; urgency=medium

  * Teach qc-sample where to find the adapters file on debian systems
  * Fix: copy/extract sequentially into same output file

 -- Robert <heinro@med.umich.edu>  Thu, 16 Nov 2017 15:11:35 -0500

geo-omics-scripts (1.0.56-1) unstable; urgency=medium

  [ Robert ]
  * Set installation prefix as upstream Makefile sets empty prefix

  [ Robert ]
  * Fix regression, parse_args() now supplies the project
  * Allow easy setup to locally run scripts from git repo
  * Makefile: get version if run inside dist tarballs
  * Makefile: create tarballs in parent directory
  * Makefile: ensure sphinx docs are (for now) distributed in tarball
  * Fix: only copy files per directory
  * Make use of gbp buildpackage realistic

 -- Robert <heinro@med.umich.edu>  Wed, 15 Nov 2017 16:42:33 -0500

geo-omics-scripts (1.0.54-1) unstable; urgency=low

  * Initial release.
  * Packaged created with debmake

 -- Robert <heinro@umich.edu>  Thu, 02 Nov 2017 15:49:53 -0400
